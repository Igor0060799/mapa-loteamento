async function carregarQuadrasELotes() {
    try {
        console.log("üîÑ Buscando dados da API...");
        const response = await fetch(API_URL, { method: "GET", mode: "cors" });

        if (!response.ok) {
            throw new Error(`Erro na requisi√ß√£o: ${response.status}`);
        }

        const data = await response.json();
        console.log("‚úÖ Dados recebidos:", data);

        let quadras = new Set();
        let lotes = {};

        data.forEach(lote => {
            let quadra = lote[0];  // Coluna A: Quadra
            let loteNum = lote[1];  // Coluna B: Lote

            if (quadra && loteNum) {
                quadras.add(quadra);
                if (!lotes[quadra]) lotes[quadra] = [];
                lotes[quadra].push(loteNum);
            }
        });

        let quadraSelect = document.getElementById("quadra");
        let loteSelect = document.getElementById("lote");

        quadraSelect.innerHTML = "";
        loteSelect.innerHTML = "";

        quadras.forEach(quadra => {
            let option = document.createElement("option");
            option.value = quadra;
            option.textContent = quadra;
            quadraSelect.appendChild(option);
        });

        quadraSelect.addEventListener("change", function() {
            loteSelect.innerHTML = "";
            let quadraSelecionada = quadraSelect.value;
            if (lotes[quadraSelecionada]) {
                lotes[quadraSelecionada].forEach(lote => {
                    let option = document.createElement("option");
                    option.value = lote;
                    option.textContent = lote;
                    loteSelect.appendChild(option);
                });
            }
        });

        quadraSelect.dispatchEvent(new Event("change"));
    } catch (error) {
        console.error("‚ùå Erro ao carregar dados:", error);
        alert("Erro ao carregar os dados da planilha.");
    }
}
